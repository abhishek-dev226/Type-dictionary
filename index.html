<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Abhishek's Pro Dictionary</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background-color: #f4f7f6; display: flex; flex-direction: column; align-items: center; padding: 20px; transition: 0.3s; }
        body.dark-theme { background-color: #121212; color: #e0e0e0; }
        .container { background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); width: 100%; max-width: 500px; text-align: center; }
        body.dark-theme .container { background: #1e1e1e; box-shadow: 0 4px 15px rgba(0,0,0,0.5); }
        input { width: 90%; padding: 12px; border: 2px solid #ddd; border-radius: 6px; font-size: 16px; margin-bottom: 20px; }
        body.dark-theme input { background: #2d2d2d; border-color: #444; color: #fff; }
        #result { text-align: left; }
        .word-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #eee; padding-bottom: 10px; }
        .word-text { font-size: 28px; font-weight: bold; color: #007bff; text-transform: capitalize; }
        .meaning-box { margin-top: 15px; padding: 10px; border-radius: 8px; background: #f9f9f9; }
        body.dark-theme .meaning-box { background: #252525; }
        .label { font-weight: bold; color: #555; font-size: 14px; display: block; margin-bottom: 5px; }
        .eng-meaning { font-size: 18px; color: #333; margin-bottom: 15px; line-height: 1.4; }
        body.dark-theme .eng-meaning { color: #ccc; }
        .hindi-meaning { font-size: 22px; color: #d9534f; font-weight: bold; }
        .speaker-btn { background: #007bff; color: white; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer; }
    </style>
</head>
<body>

<div class="container">
    <h1 id="main-title">English-Hindi Pro</h1>
    <p id="status" style="color: orange;">Loading 1.7 Lakh Words...</p>
    <input type="text" id="searchBox" placeholder="Search any word..." onkeyup="searchWord()">
    
    <div id="result"></div>
</div>

<script>
    let dictionary = {};

    // CSV Load Function
    function loadDictionary() {
        Papa.parse("English-Hindi Dictionary.csv", {
            download: true,
            header: true,
            complete: function(results) {
                results.data.forEach(row => {
                    if(row.eword) {
                        dictionary[row.eword.toLowerCase().trim()] = {
                            h: row.hword,      // Hindi Meaning
                            e: row.egrammar   // English Definition/Grammar
                        };
                    }
                });
                document.getElementById("status").innerText = "âœ… " + Object.keys(dictionary).length + " Words Ready!";
                document.getElementById("status").style.color = "green";
            }
        });
    }

    function searchWord() {
        let word = document.getElementById("searchBox").value.toLowerCase().trim();
        let display = document.getElementById("result");
        
        if (dictionary[word]) {
            display.innerHTML = `
                <div class="word-header">
                    <span class="word-text">${word}</span>
                    <button class="speaker-btn" onclick="speak('${word}')">ðŸ”Š Listen</button>
                </div>
                <div class="meaning-box">
                    <span class="label">ENGLISH DEFINITION:</span>
                    <div class="eng-meaning">${dictionary[word].e || 'Definition not available'}</div>
                    
                    <span class="label">HINDI MEANING:</span>
                    <div class="hindi-meaning">${dictionary[word].h}</div>
                </div>
            `;
        } else {
            display.innerHTML = word === "" ? "" : "<p style='color:gray;'>Word not found in database...</p>";
        }
    }

    function speak(word) {
        const utterance = new SpeechSynthesisUtterance(word);
        window.speechSynthesis.speak(utterance);
    }

    window.onload = loadDictionary;
</script>
</body>
</html>